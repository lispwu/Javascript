<html>
	<head>
		<title>Mandango - The Macho Movie Ticket Finder</title>
		<script type="text/javascript">
			var seats = [[ false, true, false, true, true, true, false, true, false ],
                   [ false, true, false, false, true, false, true, true, true ],
                   [ true, true, true, true, true, true, false, true, false ],
                   [ true, true, true, false, true, false, false, true, false ]];
			var selSeat = -1;
			

			
			function initSeats(){
			//初始化座位的图片
				for(var i = 0;i < seats.length;i++)
				{
					for(var j = 0;j < seats[i].length;j++)
					{
						if(seats[i][j])
						{
							document.getElementById("seat" + (i * seats[i].length + j)).src = "seat_avail.png";
							document.getElementById("seat" + (i * seats[i].length + j)).alt = "Available seat";
						}
						else
						{
							document.getElementById("seat" + (i * seats[i].length + j)).src = "seat_unavail.png";
							document.getElementById("seat" + (i * seats[i].length + j)).alt = "Unavailable seat";
						}
					}
					
				}
			}
			
			function findSeats(){
				if(selSeat >= 0)
				{
					selSeat = -1;
					initSeats();
				}
				
				var i = 0,finished = false;
				
				while(i < seats.length && !finished)
				{
					for(var j = 0;j <seats[i].lenght;j++)
					{
						if(seat[i][j] && seats[i][j + 1] && seats[i][j + 2])
						{
							selSeat = i * seats[i].length + j;
							document.getElementById("seat" + (i * seats[i].length + j)).src = "seat_select.png";
							document.getElementById("seat" + (i * seats[i].length + j)).alt = "Your seat";
							document.getElementById("seat" + (i * seats[i].length + j + 1)).src = "seat_select.png";
							document.getElementById("seat" + (i * seats[i].length + j + 1)).alt = "Your seat";
							document.getElementById("seat" + (i * seats[i].length + j + 2)).src = "seat_select.png";
							document.getElementById("seat" + (i * seats[i].length + j + 2)).alt = "Your seat";
						
							//询问用户是否满意座位
							var accept = confirm("Seats " + (j + 1) + " through " + (j + 3) +
												" in Row " + (i + 1) + " are available.Accept?");
							if(accept)
							{
							//如果选好了位置，就结束循环
								finished = true;
								break;
							}
							else
							{
								selSeat = -1;
								document.getElementById("seat" + (i * seats[i].length + j)).src = "seat_avail.png";
								document.getElementById("seat" + (i * seats[i].length + j)).alt = "Available seat";
								document.getElementById("seat" + (i * seats[i].length + j + 1)).src = "seat_avail.png";
								document.getElementById("seat" + (i * seats[i].length + j + 1)).alt = "Available seat";
								document.getElementById("seat" + (i * seats[i].length + j + 2)).src = "seat_avail.png";
								document.getElementById("seat" + (i * seats[i].length + j + 2)).alt = "Available seat";
							}
						}
					}
					
					
					
				}
			}
		</script>
	</head>
	<body onload="initSeats();">
		<div style="margin-top:75px;text-align:center">
		<img id="seat0" src="" alt="" />
		<img id="seat1" src="" alt="" />
		<img id="seat2" src="" alt="" />
		<img id="seat3" src="" alt="" />
		<img id="seat4" src="" alt="" />
		<img id="seat5" src="" alt="" />
		<img id="seat6" src="" alt="" />
		<img id="seat7" src="" alt="" />
		<img id="seat8" src="" alt="" /><br />     <!--这个br有什么用？-->
		<img id="seat9" src="" alt="" />
        <img id="seat10" src="" alt="" />
        <img id="seat11" src="" alt="" />
        <img id="seat12" src="" alt="" />
        <img id="seat13" src="" alt="" />
		<img id="seat14" src="" alt="" />
		<img id="seat15" src="" alt="" />
		<img id="seat16" src="" alt="" />
		<img id="seat17" src="" alt="" /><br />
		<img id="seat18" src="" alt="" />
		<img id="seat19" src="" alt="" />
		<img id="seat20" src="" alt="" />
		<img id="seat21" src="" alt="" />
		<img id="seat22" src="" alt="" />
		<img id="seat23" src="" alt="" />
		<img id="seat24" src="" alt="" />
		<img id="seat25" src="" alt="" />
		<img id="seat26" src="" alt="" /><br />
		<img id="seat27" src="" alt="" />
		<img id="seat28" src="" alt="" />
		<img id="seat29" src="" alt="" />
		<img id="seat30" src="" alt="" />
		<img id="seat31" src="" alt="" />
		<img id="seat32" src="" alt="" />
		<img id="seat33" src="" alt="" />
		<img id="seat34" src="" alt="" />
		<img id="seat35" src="" alt="" /><br />
		<input type="button" id="findseat" value="Find Seats" onclick="findSeats();" />
		</div>
	</body>
</html>